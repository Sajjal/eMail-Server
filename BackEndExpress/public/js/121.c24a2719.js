"use strict";(self["webpackChunkemail_server"]=self["webpackChunkemail_server"]||[]).push([[121],{482:(a,t,e)=>{e.d(t,{Z:()=>p});e(71),e(7965),e(6016);var s=e(1959),l=e(52),n=e.n(l),u=e(9582),o=e(4584);const d=()=>{const a=(0,s.iH)(""),t=(0,s.iH)(null),e="/",l=(0,u.tv)(),d=async(a,s)=>{try{const l=await n().post(`${e}${a}`,s);o["default"].dispatch("updateEmails",{emails:l.data.data,count:l.data.count}),t.value=null,l.data||(t.value="No Data Available!")}catch(u){"401"!=u.response.status&&"429"!=u.response.status||(o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"})),t.value="No Data Available!"}},p=async a=>{try{const{data:t}=await n().post(`${e}download`,a,{responseType:"blob"}),s=document.createElement("a");return s.href=window.URL.createObjectURL(new Blob([t])),document.body.appendChild(s),s.download=a.name,s.click(),URL.revokeObjectURL(s.href)}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},i=async a=>{try{await n().post(`${e}toTrash`,a),l.push({name:"Login"})}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},c=async a=>{try{await n().post(`${e}addStar`,a),l.push({name:"Login"})}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},r=async a=>{try{await n().post(`${e}removeStar`,a),l.push({name:"Login"})}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},m=async a=>{try{await n().post(`${e}markAsRead`,a),l.push({name:"Login"})}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},h=async a=>{try{await n().post(`${e}block`,a)}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},f=async a=>{try{await n().post(`${e}unblock`,a)}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},g=async a=>{try{const s=await n().post(`${e}search`,a);t.value=null,o["default"].dispatch("updateCurrentMessage",s.data.data[0]),s.data||(t.value="No Data Available!")}catch(s){"401"!=s.response.status&&"429"!=s.response.status||(o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"})),t.value="No Data Available!"}},w=async a=>{try{await n().post(`${e}sent`,a,{headers:{"Content-Type":"multipart/form-data"}}),o["default"].dispatch("updateCurrentPage","Sent"),l.push({name:"Index"})}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},W=async t=>{try{await n().post(`${e}login`,t);a.value="",o["default"].dispatch("updateLoginStatus",!0),o["default"].dispatch("updateCurrentPage","Inbox"),o["default"].dispatch("updateSkipLimit",{skip:0,limit:10}),o["default"].dispatch("updateCurrentMessage",{}),o["default"].dispatch("updateEditMode","Compose"),o["default"].dispatch("openCloseSidebar",!1),l.push({name:"Index"})}catch(s){a.value=s.response.data.Error}},b=async()=>{try{await n().post(`${e}logout`,{});o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"})}catch(a){o["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"})}};return{error:t,loginError:a,load:d,download:p,fullEmail:g,addStar:c,removeStar:r,markAsRead:m,block:h,unblock:f,toTrash:i,sendMail:w,login:W,logout:b}},p=d},2121:(a,t,e)=>{e.r(t),e.d(t,{default:()=>V});var s=e(3673),l=e(1959),n=e(9582),u=e(3617),o=e(482);const d={class:"q-pa-sm text-bold bg-grey-3 text-grey-7 q-pl-lg",style:{"font-size":"16px"}},p=(0,s.Uk)(" CATEGORIES"),i=(0,s.Uk)("Inbox"),c=(0,s.Uk)("Starred"),r=(0,s.Uk)("Sent"),m=(0,s.Uk)("Trash"),h=(0,s.Uk)("Block List"),f=(0,s.Uk)("Logout"),g={setup(a){const t=(0,u.oR)(),e=(0,n.tv)(),{logout:g}=(0,o.Z)();function w(a){if(a!=t.state.currentPage)return t.dispatch("updateCurrentPage",a),t.dispatch("updateSkipLimit",{skip:0,limit:10}),t.dispatch("updateCurrentMessage",{}),t.dispatch("updateEditMode","Compose"),t.dispatch("openCloseSidebar",!1),"Compose"==a?e.push({name:"Compose"}):"Block List"==a?e.push({name:"BlockList"}):void e.push({name:"Index"})}return(a,t)=>{const n=(0,s.up)("q-item-label"),u=(0,s.up)("q-item-section"),o=(0,s.up)("q-btn"),W=(0,s.up)("q-item"),b=(0,s.up)("q-icon"),v=(0,s.up)("q-separator"),k=(0,s.up)("q-list");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",d,[(0,s.Wm)(W,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[p])),_:1})])),_:1}),(0,s.Wm)(u,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{round:"",color:"grey-10",icon:"edit",size:"sm",onClick:t[0]||(t[0]=a=>w("Compose"))})])),_:1})])),_:1})]),(0,s._)("div",null,[(0,s.Wm)(k,{class:"text-bold q-mt-sm",style:{"font-size":"16px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{clickable:"",onClick:t[1]||(t[1]=a=>w("Inbox"))},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:"",class:"q-ml-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{name:"mail",size:"sm"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[i])),_:1})])),_:1}),(0,s.Wm)(v,{spaced:""}),(0,s.Wm)(W,{clickable:"",onClick:t[2]||(t[2]=a=>w("Starred"))},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:"",class:"q-ml-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{name:"star",size:"sm"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[c])),_:1})])),_:1}),(0,s.Wm)(v,{spaced:""}),(0,s.Wm)(W,{clickable:"",onClick:t[3]||(t[3]=a=>w("Sent"))},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:"",class:"q-ml-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{name:"send",size:"sm"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[r])),_:1})])),_:1}),(0,s.Wm)(v,{spaced:""}),(0,s.Wm)(W,{clickable:"",onClick:t[4]||(t[4]=a=>w("Trash"))},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:"",class:"q-ml-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{name:"delete",size:"sm"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[m])),_:1})])),_:1}),(0,s.Wm)(v,{spaced:""}),(0,s.Wm)(W,{clickable:"",onClick:t[5]||(t[5]=a=>(0,l.SU)(e).push({name:"BlockList"}))},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:"",class:"q-ml-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{name:"block",size:"sm"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[h])),_:1})])),_:1}),(0,s.Wm)(v,{spaced:""}),(0,s.Wm)(W,{clickable:"",onClick:(0,l.SU)(g)},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{avatar:"",class:"q-ml-lg"},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{name:"logout",size:"sm"})])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[f])),_:1})])),_:1},8,["onClick"]),(0,s.Wm)(v,{spaced:""})])),_:1})])],64)}}};var w=e(3414),W=e(2035),b=e(2350),v=e(2165),k=e(7011),y=e(4554),L=e(5869),_=e(7518),q=e.n(_);const S=g,C=S;q()(g,"components",{QItem:w.Z,QItemSection:W.Z,QItemLabel:b.Z,QBtn:v.Z,QList:k.Z,QIcon:y.Z,QSeparator:L.Z});const Q={class:"q-py-sm"};function x(a,t){const e=(0,s.up)("q-skeleton"),l=(0,s.up)("q-item-section"),n=(0,s.up)("q-item"),u=(0,s.up)("q-separator");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",Q,[(0,s.Wm)(n,null,{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s.Wm)(e,{type:"QToolbar"})])),_:1}),(0,s.Wm)(l,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(e,{type:"QRadio",height:"50px",width:"50px"})])),_:1})])),_:1})]),(0,s.Wm)(u,{spaced:""}),(0,s._)("div",null,[(0,s.Wm)(e,{type:"QToolbar",class:"q-mx-md"}),(0,s.Wm)(u,{spaced:""}),(0,s.Wm)(e,{type:"QToolbar",class:"q-mx-md"}),(0,s.Wm)(u,{spaced:""}),(0,s.Wm)(e,{type:"QToolbar",class:"q-mx-md"}),(0,s.Wm)(u,{spaced:""}),(0,s.Wm)(e,{type:"QToolbar",class:"q-mx-md"}),(0,s.Wm)(u,{spaced:""}),(0,s.Wm)(e,{type:"QToolbar",class:"q-mx-md"})])],64)}var Z=e(4260),I=e(4103);const T={},U=(0,Z.Z)(T,[["render",x]]),$=U;q()(T,"components",{QItem:w.Z,QItemSection:W.Z,QSkeleton:I.ZP,QSeparator:L.Z});const D=(0,s._)("img",{src:"logo.png"},null,-1),E=(0,s._)("div",{class:"text-center q-pa-sm"},[(0,s._)("span",{class:"q-ml-md"}," S & D Email Server | github.com/Sajjal ")],-1),R={setup(a){(0,l.iH)(!1);const t=(0,n.tv)(),e=(0,u.oR)(),o=(0,l.iH)(!1);function d(){o.value=!o.value,e.dispatch("openCloseSidebar",o.value)}function p(){e.dispatch("updateCurrentPage","Inbox"),t.push({name:"Index"})}return(0,s.YP)((()=>e.state.leftDrawerOpen),(function(){o.value=e.state.leftDrawerOpen})),(a,t)=>{const n=(0,s.up)("q-btn"),u=(0,s.up)("q-avatar"),i=(0,s.up)("q-toolbar-title"),c=(0,s.up)("q-toolbar"),r=(0,s.up)("q-header"),m=(0,s.up)("q-drawer"),h=(0,s.up)("router-view"),f=(0,s.up)("q-page-container"),g=(0,s.up)("q-footer"),w=(0,s.up)("q-layout");return(0,s.wg)(),(0,s.j4)(w,{view:"hHh lpR fFf"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{class:"bg-accent text-white"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(n,{dense:"",flat:"",round:"",icon:"menu",onClick:d,class:"lt-md"}),(0,s.Wm)(i,{class:"q-pa-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"q-mb-sm q-mr-md",square:"",size:"30px",style:{cursor:"pointer"},onClick:p},{default:(0,s.w5)((()=>[D])),_:1}),(0,s._)("span",{style:{cursor:"pointer"},onClick:p}," S & D Email Server ")])),_:1})])),_:1})])),_:1}),(0,s.Wm)(m,{"show-if-above":"",width:300,modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a),side:"left",bordered:""},{default:(0,s.w5)((()=>[(0,l.SU)(e).state.isLoggedIn?((0,s.wg)(),(0,s.j4)(C,{key:0})):((0,s.wg)(),(0,s.j4)($,{key:1}))])),_:1},8,["modelValue"]),(0,s.Wm)(f,{class:"q-px-sm q-mb-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(h)])),_:1}),(0,s.Wm)(g,{class:"bg-grey-8 text-white"},{default:(0,s.w5)((()=>[E])),_:1})])),_:1})}}};var z=e(9214),A=e(3812),H=e(9570),P=e(3747),j=e(5096),B=e(2901),M=e(2652),O=e(1762);const N=R,V=N;q()(R,"components",{QLayout:z.Z,QHeader:A.Z,QToolbar:H.Z,QBtn:v.Z,QToolbarTitle:P.Z,QAvatar:j.Z,QDrawer:B.Z,QPageContainer:M.Z,QFooter:O.Z})}}]);