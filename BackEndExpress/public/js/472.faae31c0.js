"use strict";(self["webpackChunkemail_server"]=self["webpackChunkemail_server"]||[]).push([[472],{482:(e,t,a)=>{a.d(t,{Z:()=>o});a(71),a(7965),a(6016);var s=a(1959),l=a(52),n=a.n(l),u=a(9582),i=a(4584);const r=()=>{const e=(0,s.iH)(""),t=(0,s.iH)(null),a="/",l=(0,u.tv)(),r=async(e,s)=>{try{const l=await n().post(`${a}${e}`,s);i["default"].dispatch("updateEmails",{emails:l.data.data,count:l.data.count}),t.value=null,l.data||(t.value="No Data Available!")}catch(u){"401"!=u.response.status&&"429"!=u.response.status||(i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"})),t.value="No Data Available!"}},o=async e=>{try{const{data:t}=await n().post(`${a}download`,e,{responseType:"blob"}),s=document.createElement("a");return s.href=window.URL.createObjectURL(new Blob([t])),document.body.appendChild(s),s.download=e.name,s.click(),URL.revokeObjectURL(s.href)}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},c=async e=>{try{await n().post(`${a}toTrash`,e),l.push({name:"Login"})}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},d=async e=>{try{await n().post(`${a}addStar`,e),l.push({name:"Login"})}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},m=async e=>{try{await n().post(`${a}removeStar`,e),l.push({name:"Login"})}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},p=async e=>{try{await n().post(`${a}markAsRead`,e),l.push({name:"Login"})}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},w=async e=>{try{await n().post(`${a}block`,e)}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},k=async e=>{try{await n().post(`${a}unblock`,e)}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},f=async e=>{try{const s=await n().post(`${a}search`,e);t.value=null,i["default"].dispatch("updateCurrentMessage",s.data.data[0]),s.data||(t.value="No Data Available!")}catch(s){"401"!=s.response.status&&"429"!=s.response.status||(i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"})),t.value="No Data Available!"}},g=async e=>{try{await n().post(`${a}sent`,e,{headers:{"Content-Type":"multipart/form-data"}}),i["default"].dispatch("updateCurrentPage","Sent"),l.push({name:"Index"})}catch(t){"401"!=t.response.status&&"429"!=t.response.status||(i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"}))}},_=async t=>{try{await n().post(`${a}login`,t);e.value="",i["default"].dispatch("updateLoginStatus",!0),i["default"].dispatch("updateCurrentPage","Inbox"),i["default"].dispatch("updateSkipLimit",{skip:0,limit:10}),i["default"].dispatch("updateCurrentMessage",{}),i["default"].dispatch("updateEditMode","Compose"),i["default"].dispatch("openCloseSidebar",!1),l.push({name:"Index"})}catch(s){e.value=s.response.data.Error}},h=async()=>{try{await n().post(`${a}logout`,{});i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"})}catch(e){i["default"].dispatch("updateLoginStatus",!1),l.push({name:"Login"})}};return{error:t,loginError:e,load:r,download:o,fullEmail:f,addStar:d,removeStar:m,markAsRead:p,block:w,unblock:k,toTrash:c,sendMail:g,login:_,logout:h}},o=r},4472:(e,t,a)=>{a.r(t),a.d(t,{default:()=>he});a(5363);var s=a(3673),l=a(1959),n=a(2323),u=a(8880),i=a(8825),r=a(1082),o=a(9582),c=a(3617),d=a(3750),m=a.n(d),p=a(482),w=a(6369);const k=e=>((0,s.dD)("data-v-53527881"),e=e(),(0,s.Cn)(),e),f={class:"q-mt-sm sd-center text-bold text-purple",style:{"font-size":"20px"}},g=(0,s.Uk)(" Refresh "),_={key:0,class:"sd-center q-mt-md"},h={class:"text-subtitle2"},y={key:0},v={key:1},S={class:"text-weight-bold"},W={class:"text-grey-8 q-gutter-xs"},U=(0,s.Uk)(" Star "),b=(0,s.Uk)(" Mark as Read "),x=(0,s.Uk)(" Block this Sender "),C=(0,s.Uk)(" Move to Trash "),z=(0,s.Uk)(" Delete Permanently "),q={key:1,class:"sd-center"},M={class:"text-bold",style:{"font-size":"18px"}},L=(0,s.Uk)(" Reply "),P=k((()=>(0,s._)("span",{class:"q-mr-lg q-pr-lg text-bold"},"From:",-1))),j=k((()=>(0,s._)("span",{class:"q-mr-xl q-pr-md text-bold"},"To:",-1))),T=k((()=>(0,s._)("span",{class:"q-mr-sm text-bold"},"Sender's IP:",-1))),D={class:"text-grey-8 q-gutter-xs"},Z=(0,s.Uk)(" Star "),Q=(0,s.Uk)(" Block This Sender "),I=(0,s.Uk)(" Move to Trash "),Y=(0,s.Uk)(" Delete Permanently "),A={key:0},H=["onClick"],$=["innerHTML"],R=(0,s.Uk)(" Are You Sure to Block? "),E=(0,s.Uk)(" You will not receive any emails from "),N={class:"text-bold"},B=(0,s.Uk)(" Are You Sure to Move it to the Trash? "),V=(0,s.Uk)(" Are You Sure to Delete it Permanently? "),K=(0,s.Uk)(" It will be auto-removed from Trash after a Week!"),F=(0,s.Uk)(" You won't be able to see this Email again!"),O={setup(e){const t=(0,c.oR)(),a=(0,o.tv)(),d=(0,i.Z)(),{load:k,fullEmail:O,download:G,addStar:J,removeStar:X,markAsRead:ee,block:te,toTrash:ae}=(0,p.Z)(),se=!d.platform.is.mobile,le=(0,l.iH)([]),ne=(0,l.iH)(!1),ue=(0,l.iH)(""),ie=(0,l.iH)(!1),re={Inbox:"mail",Starred:"star",Sent:"send",Trash:"delete"},oe=(0,l.iH)(""),ce=(0,l.iH)(!1),de=(0,l.iH)(""),me=(0,l.iH)(""),pe=(0,l.iH)("");async function we(){ne.value=!0,ie.value=!1,await k("emails",{directory:t.state.currentPage,skip:t.state.skip,limit:t.state.limit}),le.value=t.state.emails,le.value&&le.value.length||(oe.value=`${t.state.currentPage} is Empty!`),ne.value=!1}async function ke(e){await O({directory:t.state.currentPage,id:e}),ie.value=!0}async function fe(e){await G(e)}async function ge(){t.state.count<=t.state.skip+10||(t.dispatch("updateSkipLimit",{skip:t.state.skip+10,limit:t.state.limit}),await we())}async function _e(){t.state.skip<=0||(t.dispatch("updateSkipLimit",{skip:t.state.skip-10,limit:t.state.limit}),await we())}async function he(){t.dispatch("updateEditMode","Reply"),t.dispatch("updateCurrentPage","Compose"),a.push({name:"Compose"})}async function ye(){oe.value="",ne.value=!0,ie.value=!1,t.dispatch("updateSkipLimit",{skip:0,limit:10}),await k("search",{searchTerm:ue.value,directory:t.state.currentPage,skip:t.state.skip,limit:t.state.limit}),le.value=t.state.emails,le.value&&!le.value.length&&(oe.value=`No Result Found for ${ue.value} in ${t.state.currentPage}`),ne.value=!1}function ve(e){pe.value=e,ce.value=!0,de.value="trash"}async function Se(){pe.value&&(await ae({directory:t.state.currentPage,id:pe.value}),t.state.count<t.state.skip+10&&t.dispatch("updateSkipLimit",{skip:0,limit:10}),await we(),pe.value=de.value="",ce.value=!1)}function We(){pe.value=me.value=de.value="",ce.value=!1}async function Ue(e){await J({directory:t.state.currentPage,id:e}),t.state.count<t.state.skip+10&&t.dispatch("updateSkipLimit",{skip:0,limit:10}),await we()}async function be(e){await X({id:e}),t.state.count<t.state.skip+10&&t.dispatch("updateSkipLimit",{skip:0,limit:10}),await we()}async function xe(e){await ee({directory:t.state.currentPage,id:e}),await we()}function Ce(e){me.value=e,ce.value=!0,de.value="block"}async function ze(){await te({email:me.value,type:"other_sender"}),me.value=de.value="",ce.value=!1,a.push({name:"BlockList"})}return(0,s.bv)((async()=>{await we(),t.dispatch("updateEditMode","Compose")})),(0,s.YP)((()=>t.state.currentPage),(async function(){ue.value="",oe.value="",await we()})),(e,a)=>{const i=(0,s.up)("q-icon"),o=(0,s.up)("q-item-section"),c=(0,s.up)("q-btn"),d=(0,s.up)("q-item"),p=(0,s.up)("q-input"),k=(0,s.up)("q-spinner-pie"),O=(0,s.up)("q-tooltip"),G=(0,s.up)("q-separator"),J=(0,s.up)("q-item-label"),X=(0,s.up)("q-avatar"),ee=(0,s.up)("q-menu"),te=(0,s.up)("q-scroll-area"),ae=(0,s.up)("q-list"),pe=(0,s.up)("q-responsive"),qe=(0,s.up)("q-card-section"),Me=(0,s.up)("q-card-actions"),Le=(0,s.up)("q-card"),Pe=(0,s.up)("q-dialog");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",f,[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,{avatar:"",onClick:a[0]||(a[0]=e=>ie.value=!1),style:{cursor:"pointer"}},{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:re[(0,l.SU)(t).state.currentPage],size:"md"},null,8,["name"])])),_:1}),(0,s.Wm)(o,{class:"gt-xs",onClick:a[1]||(a[1]=e=>ie.value=!1),style:{cursor:"pointer"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,l.SU)(t).state.currentPage),1)])),_:1}),!ie.value&&(0,l.SU)(t).state.count?((0,s.wg)(),(0,s.j4)(o,{key:0,class:"gt-sm",style:{"font-size":"14px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{flat:"",round:"",color:"primary",icon:"chevron_left",size:"sm",onClick:_e})])),_:1}),(0,s.Wm)(o,{side:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,l.SU)(t).state.skip+1)+"-"+(0,n.zw)((0,l.SU)(t).state.count<(0,l.SU)(t).state.skip+10?(0,l.SU)(t).state.count:(0,l.SU)(t).state.skip+10)+" of "+(0,n.zw)((0,l.SU)(t).state.count),1)])),_:1}),(0,s.Wm)(o,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{flat:"",round:"",color:"primary",icon:"navigate_next",size:"sm",onClick:ge})])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{dense:"",outlined:"",modelValue:ue.value,"onUpdate:modelValue":a[3]||(a[3]=e=>ue.value=e),onKeyup:(0,u.D2)(ye,["enter"])},{append:(0,s.w5)((()=>[""===ue.value?((0,s.wg)(),(0,s.j4)(i,{key:0,name:"search",class:"text-black"})):((0,s.wg)(),(0,s.j4)(i,{key:1,name:"clear",class:"cursor-pointer text-black",onClick:a[2]||(a[2]=e=>ue.value="")}))])),_:1},8,["modelValue","onKeyup"])])),_:1}),ie.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(o,{key:1,avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{outline:"",round:"",loading:ne.value,color:"primary",icon:"sync",size:"md",onClick:we},{loading:(0,s.w5)((()=>[(0,s.Wm)(k)])),default:(0,s.w5)((()=>[(0,s.Wm)(O,{class:"bg-primary text-white"},{default:(0,s.w5)((()=>[g])),_:1})])),_:1},8,["loading"])])),_:1}))])),_:1}),ie.value?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(G,{key:0,class:"bg-grey-4 q-mx-md lt-md"})),!ie.value&&(0,l.SU)(t).state.count?((0,s.wg)(),(0,s.j4)(d,{key:1,class:"lt-md",style:{"font-size":"14px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(o,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{flat:"",round:"",color:"primary",icon:"chevron_left",size:"sm",onClick:_e})])),_:1}),(0,s.Wm)(o,{side:""},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,l.SU)(t).state.skip+1)+"-"+(0,n.zw)((0,l.SU)(t).state.count<(0,l.SU)(t).state.skip+10?(0,l.SU)(t).state.count:(0,l.SU)(t).state.skip+10)+" of "+(0,n.zw)((0,l.SU)(t).state.count),1)])),_:1}),(0,s.Wm)(o,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{flat:"",round:"",color:"primary",icon:"navigate_next",size:"sm",onClick:ge})])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(G,{class:(0,n.C_)((0,l.SU)(se)?"bg-grey-4  q-mx-md":"bg-grey-4 q-mx-md")},null,8,["class"])]),ie.value?((0,s.wg)(),(0,s.iD)("div",q,[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s._)("span",M,(0,n.zw)((0,l.SU)(t).state.currentMessage.from?(0,l.SU)(t).state.currentMessage.from.split("<")[0].replace(/[^a-z0-9@,. ]/gi,""):""),1),(0,s.Wm)(J,{caption:"",class:"q-mt-xs"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,l.SU)(r.ZP).formatDate((0,l.SU)(t).state.currentMessage.date,"dddd, DD MMM YYYY,  hh:mm A")),1)])),_:1})])),_:1}),"Inbox"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(o,{key:0,avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{outline:"",round:"",color:"green",icon:"reply",size:"md",onClick:he},{default:(0,s.w5)((()=>[(0,s.Wm)(O,{class:"bg-green text-white"},{default:(0,s.w5)((()=>[L])),_:1})])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(o,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{outline:"",round:"",color:"black",icon:"arrow_back",size:"md",onClick:a[4]||(a[4]=e=>ie.value=!1)},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Back to "+(0,n.zw)((0,l.SU)(t).state.currentPage),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(ae,{style:{"max-width":"1000px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(te,{style:{height:"68vh"}},{default:(0,s.w5)((()=>[(0,s.Wm)(G),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(J,null,{default:(0,s.w5)((()=>[P,(0,s.Uk)(" "+(0,n.zw)((0,l.SU)(t).state.currentMessage.from.includes("<")?(0,l.SU)(t).state.currentMessage.from.split("<")[1].split(">")[0]:(0,l.SU)(t).state.currentMessage.from),1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(G),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(J,null,{default:(0,s.w5)((()=>[j,(0,s.Uk)(" "+(0,n.zw)((0,l.SU)(t).state.currentMessage.to),1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(G),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(J,null,{default:(0,s.w5)((()=>[T,(0,s.Uk)(" "+(0,n.zw)((0,l.SU)(t).state.currentMessage.sender_ip),1)])),_:1})])),_:1}),(0,s.Wm)(o,{top:"",side:""},{default:(0,s.w5)((()=>[(0,s._)("div",D,[(0,s.Wm)(c,{class:(0,n.C_)((0,l.SU)(t).state.currentMessage.star?"gt-xs text-yellow-10":"gt-xs"),size:"12px",flat:"",dense:"",round:"",icon:"star",onClick:a[5]||(a[5]=e=>(0,l.SU)(t).state.currentMessage.star?be((0,l.SU)(t).state.currentMessage._id):Ue((0,l.SU)(t).state.currentMessage._id))},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[Z])),_:1})])),_:1},8,["class"]),"Inbox"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(c,{key:0,class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"block",onClick:a[6]||(a[6]=e=>Ce((0,l.SU)(t).state.currentMessage.from))},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[Q])),_:1})])),_:1})):(0,s.kq)("",!0),"Trash"!=(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(c,{key:1,class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:a[7]||(a[7]=e=>ve((0,l.SU)(t).state.currentMessage._id))},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[I])),_:1})])),_:1})):(0,s.kq)("",!0),"Trash"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(c,{key:2,class:"gt-xs text-negative",size:"12px",flat:"",dense:"",round:"",icon:"delete_forever",onClick:a[8]||(a[8]=e=>ve((0,l.SU)(t).state.currentMessage._id))},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[Y])),_:1})])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(c,{size:"12px",flat:"",dense:"",round:"",icon:"more_vert",class:"lt-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee,{fit:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{clickable:"",onClick:a[9]||(a[9]=e=>(0,l.SU)(t).state.currentMessage.star?be((0,l.SU)(t).state.currentMessage._id):Ue((0,l.SU)(t).state.currentMessage._id))},{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"star",class:(0,n.C_)((0,l.SU)(t).state.currentMessage.star?"text-yellow-10":"text-black"),size:"sm",clickable:""},null,8,["class"])])),_:1})])),_:1}),"Inbox"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(d,{key:0,clickable:"",onClick:a[10]||(a[10]=e=>Ce((0,l.SU)(t).state.currentMessage.from))},{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"block",class:"text-black",size:"sm",clickable:""})])),_:1})])),_:1})):(0,s.kq)("",!0),"Trash"!=(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(d,{key:1,clickable:"",onClick:a[11]||(a[11]=e=>ve((0,l.SU)(t).state.currentMessage._id))},{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"delete",class:"text-black",size:"sm",clickable:""})])),_:1})])),_:1})):(0,s.kq)("",!0),"Trash"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(d,{key:2,clickable:"",onClick:a[12]||(a[12]=e=>ve((0,l.SU)(t).state.currentMessage._id))},{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"delete_forever",class:"text-negative",size:"sm",clickable:""})])),_:1})])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])])),_:1})])),_:1}),(0,s.Wm)(G),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(J,null,{default:(0,s.w5)((()=>[(0,s._)("span",{class:"text-bold text-purple",style:(0,n.j5)((0,l.SU)(se)?"font-size:16px;":"")},(0,n.zw)((0,l.SU)(t).state.currentMessage.subject),5)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(G),(0,l.SU)(t).state.currentMessage.attachments&&(0,l.SU)(t).state.currentMessage.attachments.length?((0,s.wg)(),(0,s.iD)("div",A,[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,l.SU)(t).state.currentMessage.attachments,(e=>((0,s.wg)(),(0,s.j4)(o,{key:e.path},{default:(0,s.w5)((()=>[(0,s._)("i",{class:(0,n.C_)((0,l.SU)(w.z)(e.name)),onClick:t=>fe(e)},(0,n.zw)(e.name),11,H)])),_:2},1024)))),128))])),_:1})])):(0,s.kq)("",!0),(0,l.SU)(t).state.currentMessage.attachments&&(0,l.SU)(t).state.currentMessage.attachments.length?((0,s.wg)(),(0,s.j4)(G,{key:1})):(0,s.kq)("",!0),(0,s.Wm)(pe,{ratio:1},{default:(0,s.w5)((()=>[(0,s._)("div",{innerHTML:(0,l.SU)(m()).sanitize((0,l.SU)(t).state.currentMessage.message),class:"q-pt-md q-ml-md"},null,8,$)])),_:1})])),_:1})])),_:1})])):((0,s.wg)(),(0,s.iD)("div",_,[(0,s.Wm)(ae,{style:{"max-width":"1000px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(te,{style:{height:"69vh"}},{default:(0,s.w5)((()=>[oe.value?((0,s.wg)(),(0,s.j4)(d,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(J,{lines:"1"},{default:(0,s.w5)((()=>[(0,s._)("span",h,(0,n.zw)(oe.value),1)])),_:1})])),_:1})])),_:1})):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(le.value,(e=>((0,s.wg)(),(0,s.iD)("div",{key:e._id},[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{color:e.isNew?"green":"grey","text-color":"white"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.from?e.from.replace(/[^a-z0-9,. ]/gi,"").charAt(0).toUpperCase():"S"),1)])),_:2},1032,["color"])])),_:2},1024),(0,s.Wm)(o,{onClick:t=>ke(e._id),style:{cursor:"pointer"}},{default:(0,s.w5)((()=>[(0,s.Wm)(J,{lines:"1"},{default:(0,s.w5)((()=>["Sent"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.iD)("span",{key:0,class:(0,n.C_)(e.isNew?"text-purple text-bold":"text-grey-8 text-bold")},(0,n.zw)(e.to?e.to.split("<")[0].replace(/[^a-z0-9@,. ]/gi,""):""),3)):((0,s.wg)(),(0,s.iD)("span",{key:1,class:(0,n.C_)(e.isNew?"text-purple text-bold":"text-grey-8 text-bold")},(0,n.zw)(e.from?e.from.split("<")[0].replace(/[^a-z0-9@,. ]/gi,""):""),3))])),_:2},1024),(0,s.Wm)(J,{caption:"",lines:"1"},{default:(0,s.w5)((()=>["Sent"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.iD)("span",y,(0,n.zw)(e.from?e.from.split("<")[0].replace(/[^a-z0-9@,. ]/gi,""):""),1)):((0,s.wg)(),(0,s.iD)("span",v,(0,n.zw)(e.to?e.to.split("<")[0].replace(/[^a-z0-9@,. ]/gi,""):""),1))])),_:2},1024),(0,s.Wm)(J,{caption:"",lines:"2"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)((0,l.SU)(r.ZP).formatDate(e.date,"ddd, DD MMM YYYY,  hh:mm A"))+" -- ",1),(0,s._)("span",S,(0,n.zw)(e.subject),1)])),_:2},1024)])),_:2},1032,["onClick"]),(0,s.Wm)(o,{top:"",side:""},{default:(0,s.w5)((()=>[(0,s._)("div",W,[(0,s.Wm)(c,{class:(0,n.C_)(e.star?"gt-xs text-yellow-10":"gt-xs"),size:"12px",flat:"",dense:"",round:"",icon:"star",onClick:t=>e.star?be(e._id):Ue(e._id)},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[U])),_:1})])),_:2},1032,["class","onClick"]),e.isNew?((0,s.wg)(),(0,s.j4)(c,{key:0,class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"done",onClick:t=>xe(e._id)},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[b])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"Inbox"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(c,{key:1,class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"block",onClick:t=>Ce(e.from)},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[x])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"Trash"!=(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(c,{key:2,class:"gt-xs",size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:t=>ve(e._id)},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[C])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"Trash"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(c,{key:3,class:"gt-xs text-negative",size:"12px",flat:"",dense:"",round:"",icon:"delete_forever",onClick:t=>ve(e._id)},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[z])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),(0,s.Wm)(c,{size:"12px",class:"lt-sm",flat:"",dense:"",round:"",icon:"more_vert"},{default:(0,s.w5)((()=>[(0,s.Wm)(ee,{fit:""},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{clickable:"",onClick:t=>e.star?be(e._id):Ue(e._id)},{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"star",color:e.star?"yellow-10":"",size:"sm"},null,8,["color"])])),_:2},1024)])),_:2},1032,["onClick"]),e.isNew?((0,s.wg)(),(0,s.j4)(d,{key:0,clickable:"",onClick:t=>xe(e._id)},{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"done",class:"text-black",size:"sm",clickable:""})])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"Inbox"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(d,{key:1,clickable:"",onClick:t=>Ce(e.from)},{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"block",class:"text-black",size:"sm",clickable:""})])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"Trash"!=(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(d,{key:2,clickable:"",onClick:t=>ve(e._id)},{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"delete",class:"text-black",size:"sm",clickable:""})])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0),"Trash"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(d,{key:3,clickable:"",onClick:t=>ve(e._id)},{default:(0,s.w5)((()=>[(0,s.Wm)(o,null,{default:(0,s.w5)((()=>[(0,s.Wm)(i,{name:"delete_forever",class:"text-negative",size:"sm",clickable:""})])),_:1})])),_:2},1032,["onClick"])):(0,s.kq)("",!0)])),_:2},1024)])),_:2},1024)])])),_:2},1024)])),_:2},1024),(0,s.Wm)(G,{spaced:""})])))),128))])),_:1})])),_:1})])),(0,s.Wm)(Pe,{modelValue:ce.value,"onUpdate:modelValue":a[13]||(a[13]=e=>ce.value=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(Le,{style:{"min-width":"250px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(qe,{class:"row items-center"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(o,{top:"",avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(X,{icon:"report",color:"red","text-color":"white"})])),_:1}),"block"==de.value?((0,s.wg)(),(0,s.j4)(o,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(J,null,{default:(0,s.w5)((()=>[R])),_:1}),(0,s.Wm)(J,{caption:"",lines:"3"},{default:(0,s.w5)((()=>[E,(0,s._)("span",N,(0,n.zw)(me.value),1)])),_:1})])),_:1})):(0,s.kq)("",!0),"trash"==de.value?((0,s.wg)(),(0,s.j4)(o,{key:1},{default:(0,s.w5)((()=>["Trash"!=(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(J,{key:0},{default:(0,s.w5)((()=>[B])),_:1})):(0,s.kq)("",!0),"Trash"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(J,{key:1},{default:(0,s.w5)((()=>[V])),_:1})):(0,s.kq)("",!0),"Trash"!=(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(J,{key:2,caption:"",lines:"2"},{default:(0,s.w5)((()=>[K])),_:1})):(0,s.kq)("",!0),"Trash"==(0,l.SU)(t).state.currentPage?((0,s.wg)(),(0,s.j4)(J,{key:3,caption:"",lines:"2"},{default:(0,s.w5)((()=>[F])),_:1})):(0,s.kq)("",!0)])),_:1})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(G,{spaced:"",inset:"item"})])),_:1}),(0,s.Wm)(Me,{align:"right"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{flat:"",label:"Cancel",color:"primary",onClick:We}),"trash"==de.value?((0,s.wg)(),(0,s.j4)(c,{key:0,flat:"",label:"Trash"==(0,l.SU)(t).state.currentPage?"Delete":"Trash",color:"red",onClick:Se},null,8,["label"])):(0,s.kq)("",!0),"block"==de.value?((0,s.wg)(),(0,s.j4)(c,{key:1,flat:"",label:"Block",color:"red",onClick:ze})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var G=a(4260),J=a(3414),X=a(2035),ee=a(4554),te=a(2165),ae=a(2426),se=a(5314),le=a(8870),ne=a(5869),ue=a(7011),ie=a(7704),re=a(2350),oe=a(5096),ce=a(811),de=a(7050),me=a(6778),pe=a(151),we=a(5589),ke=a(9367),fe=a(7518),ge=a.n(fe);const _e=(0,G.Z)(O,[["__scopeId","data-v-53527881"]]),he=_e;ge()(O,"components",{QItem:J.Z,QItemSection:X.Z,QIcon:ee.Z,QBtn:te.Z,QInput:ae.Z,QSpinnerPie:se.Z,QTooltip:le.Z,QSeparator:ne.Z,QList:ue.Z,QScrollArea:ie.Z,QItemLabel:re.Z,QAvatar:oe.Z,QMenu:ce.Z,QResponsive:de.Z,QDialog:me.Z,QCard:pe.Z,QCardSection:we.Z,QCardActions:ke.Z})}}]);