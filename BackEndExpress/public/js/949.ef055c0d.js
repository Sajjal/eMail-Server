"use strict";(self["webpackChunkemail_server"]=self["webpackChunkemail_server"]||[]).push([[949],{482:(t,a,e)=>{e.d(a,{Z:()=>p});e(71),e(7965),e(6016);var s=e(1959),u=e(52),n=e.n(u),o=e(9582),d=e(4584);const l=()=>{const t=(0,s.iH)(""),a=(0,s.iH)(null),e="/",u=(0,o.tv)(),l=async(t,s)=>{try{const u=await n().post(`${e}${t}`,s);d["default"].dispatch("updateEmails",{emails:u.data.data,count:u.data.count}),a.value=null,u.data||(a.value="No Data Available!")}catch(o){"401"!=o.response.status&&"429"!=o.response.status||(d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"})),a.value="No Data Available!"}},p=async t=>{try{const{data:a}=await n().post(`${e}download`,t,{responseType:"blob"}),s=document.createElement("a");return s.href=window.URL.createObjectURL(new Blob([a])),document.body.appendChild(s),s.download=t.name,s.click(),URL.revokeObjectURL(s.href)}catch(a){"401"!=a.response.status&&"429"!=a.response.status||(d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"}))}},i=async t=>{try{await n().post(`${e}toTrash`,t),u.push({name:"Login"})}catch(a){"401"!=a.response.status&&"429"!=a.response.status||(d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"}))}},r=async t=>{try{await n().post(`${e}addStar`,t),u.push({name:"Login"})}catch(a){"401"!=a.response.status&&"429"!=a.response.status||(d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"}))}},c=async t=>{try{await n().post(`${e}removeStar`,t),u.push({name:"Login"})}catch(a){"401"!=a.response.status&&"429"!=a.response.status||(d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"}))}},m=async t=>{try{await n().post(`${e}markAsRead`,t),u.push({name:"Login"})}catch(a){"401"!=a.response.status&&"429"!=a.response.status||(d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"}))}},h=async t=>{try{await n().post(`${e}block`,t)}catch(a){"401"!=a.response.status&&"429"!=a.response.status||(d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"}))}},g=async t=>{try{await n().post(`${e}unblock`,t)}catch(a){"401"!=a.response.status&&"429"!=a.response.status||(d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"}))}},f=async t=>{try{const s=await n().post(`${e}search`,t);a.value=null,d["default"].dispatch("updateCurrentMessage",s.data.data[0]),s.data||(a.value="No Data Available!")}catch(s){"401"!=s.response.status&&"429"!=s.response.status||(d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"})),a.value="No Data Available!"}},w=async t=>{try{await n().post(`${e}sent`,t,{headers:{"Content-Type":"multipart/form-data"}}),d["default"].dispatch("updateCurrentPage","Sent"),u.push({name:"Index"})}catch(a){"401"!=a.response.status&&"429"!=a.response.status||(d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"}))}},y=async a=>{try{await n().post(`${e}login`,a);t.value="",d["default"].dispatch("updateLoginStatus",!0),d["default"].dispatch("updateCurrentPage","Inbox"),d["default"].dispatch("updateSkipLimit",{skip:0,limit:10}),d["default"].dispatch("updateCurrentMessage",{}),d["default"].dispatch("updateEditMode","Compose"),d["default"].dispatch("openCloseSidebar",!1),u.push({name:"Index"})}catch(s){t.value=s.response.data.Error}},L=async()=>{try{await n().post(`${e}logout`,{});d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"})}catch(t){d["default"].dispatch("updateLoginStatus",!1),u.push({name:"Login"})}};return{error:a,loginError:t,load:l,download:p,fullEmail:f,addStar:r,removeStar:c,markAsRead:m,block:h,unblock:g,toTrash:i,sendMail:w,login:y,logout:L}},p=l},3949:(t,a,e)=>{e.r(a),e.d(a,{default:()=>C});var s=e(3673),u=e(8880),n=e(1959),o=e(2323),d=e(9582),l=e(3617),p=e(482);const i={class:"q-mt-sm sd-center text-bold text-purple",style:{"font-size":"20px"}},r={class:"sd-center q-mt-md"},c=(0,s._)("div",{class:"text-h6"},"Please Enter the Access Code",-1),m={class:"text-negative"},h={setup(t){const a=(0,l.oR)(),{isLoggedIn:e}=((0,d.tv)(),a.state),{loginError:h,login:g}=(0,p.Z)(),f=(0,n.iH)(!0),w=(0,n.iH)("");async function y(){await g({accessCode:w.value}),h.value||(f.value=!1)}return(t,a)=>{const e=(0,s.up)("q-skeleton"),d=(0,s.up)("q-item-section"),l=(0,s.up)("q-item"),p=(0,s.up)("q-separator"),g=(0,s.up)("q-list"),L=(0,s.up)("q-card-section"),v=(0,s.up)("q-input"),S=(0,s.up)("q-btn"),b=(0,s.up)("q-card-actions"),W=(0,s.up)("q-card"),x=(0,s.up)("q-dialog");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",i,[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s.Wm)(e,{type:"QToggle",class:"q-mr-md",width:"40px"}),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(e,{type:"QToolbar",height:"40px"})])),_:1}),(0,s.Wm)(d,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(e,{type:"QRadio",class:"q-ml-md",height:"40px",width:"40px"})])),_:1})])),_:1}),(0,s.Wm)(p,{class:"bg-grey-4 q-mt-md q-mx-md"})]),(0,s._)("div",r,[((0,s.wg)(),(0,s.iD)(s.HY,null,(0,s.Ko)(5,(t=>(0,s.Wm)(g,{style:{"max-width":"1000px"},key:t},{default:(0,s.w5)((()=>[(0,s.Wm)(l,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{avatar:""},{default:(0,s.w5)((()=>[(0,s.Wm)(e,{type:"QRadio",height:"40px",width:"40px"})])),_:1}),(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)(e,{type:"QToolbar",height:"40px"})])),_:1}),(0,s.Wm)(d,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(e,{type:"QToolbar",height:"40px",width:"90px"})])),_:1})])),_:1}),(0,s.Wm)(p,{spaced:""})])),_:2},1024))),64))]),(0,s.Wm)(x,{modelValue:f.value,"onUpdate:modelValue":a[1]||(a[1]=t=>f.value=t),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{style:{"min-width":"350px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{default:(0,s.w5)((()=>[c])),_:1}),(0,s.Wm)(L,{class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{dense:"",modelValue:w.value,"onUpdate:modelValue":a[0]||(a[0]=t=>w.value=t),autofocus:"",onKeyup:(0,u.D2)(y,["enter"])},null,8,["modelValue","onKeyup"])])),_:1}),(0,n.SU)(h)?((0,s.wg)(),(0,s.j4)(L,{key:0,class:"q-pt-none"},{default:(0,s.w5)((()=>[(0,s._)("div",m,(0,o.zw)((0,n.SU)(h)),1)])),_:1})):(0,s.kq)("",!0),(0,s.Wm)(b,{align:"right",class:"text-primary"},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{flat:"",label:"Submit",onClick:y})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}}};var g=e(3414),f=e(4103),w=e(2035),y=e(5869),L=e(7011),v=e(6778),S=e(151),b=e(5589),W=e(2426),x=e(9367),k=e(2165),q=e(7518),_=e.n(q);const Q=h,C=Q;_()(h,"components",{QItem:g.Z,QSkeleton:f.ZP,QItemSection:w.Z,QSeparator:y.Z,QList:L.Z,QDialog:v.Z,QCard:S.Z,QCardSection:b.Z,QInput:W.Z,QCardActions:x.Z,QBtn:k.Z})}}]);