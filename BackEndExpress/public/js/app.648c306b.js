(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var c=a[i];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={3:0},o=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{1:"456f4e0d",2:"084deaee",4:"0ec91fec",5:"223ed558"}[e]+".js"}function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=n[e]=[t,r]}));t.push(a[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=i(e);var l=new Error;o=function(t){c.onerror=c.onload=null,clearTimeout(u);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,a[1](l)}n[e]=void 0}};var u=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var p=l;o.push([0,0]),a()})({0:function(e,t,a){e.exports=a("2f39")},"0047":function(e,t,a){},"2f39":function(e,t,a){"use strict";a.r(t);a("e6cf"),a("7d6e"),a("e54f"),a("985d"),a("0047");var r=a("2b0e"),n=a("1f91"),o=a("42d2"),i=a("b05d");r["a"].use(i["a"],{config:{},lang:n["a"],iconSet:o["a"]});var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"q-app"}},[a("MainLayout")],1)},c=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"q-pt-xs bg-grey-6 row justify-center"},[a("q-layout",{staticClass:"shadow-2 rounded-borders bg-grey-10 text-white",class:"Login"==e.$route.name?"login":"home",attrs:{view:"hHh Lpr lff",container:""}},[a("q-header",{staticClass:"bg-black"},[a("q-toolbar",{staticStyle:{height:"60px"}},[e.$store.state.authorized?a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"menu"},on:{click:function(t){e.drawer=!e.drawer}}}):e._e(),e.$q.screen.width<=450?a("q-toolbar-title",[e._v(" ES ")]):e._e(),e.$q.screen.width>450?a("q-toolbar-title",[e._v("S & D eMail Server")]):e._e(),a("q-space"),e.$store.state.authorized?a("q-btn",{attrs:{round:"",color:"grey-10",icon:"edit"},on:{click:function(t){return e.handleFunctionCall("displayCompose")}}},[a("q-tooltip",{attrs:{"content-class":"bg-amber text-black shadow-4",offset:[10,10]}},[e._v("\n            Compose New Email !\n          ")])],1):e._e(),e.$store.state.authorized?a("q-input",{staticClass:"q-ml-md",staticStyle:{width:"180px"},attrs:{dark:"",dense:"",filled:"","input-class":"text-right",label:"directory:keyword"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSearch(t)}},scopedSlots:e._u([{key:"append",fn:function(){return[""===e.searchInput?a("q-icon",{attrs:{name:"search"}}):a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"clear"},on:{click:function(t){e.searchInput=""}}})]},proxy:!0}],null,!1,2115344764),model:{value:e.searchInput,callback:function(t){e.searchInput=t},expression:"searchInput"}}):e._e()],1)],1),e.$store.state.authorized?a("q-drawer",{attrs:{"show-if-above":"",width:200,breakpoint:500,"content-class":"bg-grey-9"},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("q-scroll-area",{staticClass:"fit"},[a("q-list",[e._l(e.menuList,(function(t,r){return[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:r,class:t.label==e.activeMenu?"active":"",attrs:{clickable:""},on:{click:function(a){return e.handleFunctionCall("display"+t.label)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1),a("q-item-section",[e._v("\n                "+e._s(t.label)+"\n              ")])],1),t.separator?a("q-separator",{key:"sep"+r}):e._e()]}))],2)],1)],1):e._e(),a("q-page-container",[a("q-page",{attrs:{padding:""}},[a("router-view",{key:e.$route.fullPath})],1)],1)],1)],1)},u=[],p=a("3299");const d=[{icon:"mail_outline",label:"Inbox",separator:!0},{icon:"outbox",label:"Sent",separator:!0},{icon:"delete",label:"Trash",separator:!0},{icon:"logout",label:"Logout",separator:!1}];var h={data(){return{drawer:!1,activeMenu:"Inbox",searchInput:"",limit:10,skip:0,menuList:d}},methods:{async handleFunctionCall(e){await this[e]()},async displayInbox(){this.activeMenu="Inbox","Inbox"!==this.$route.name&&(this.$store.dispatch("updateSearch",{}),await Object(p["a"])().getEmails("emails",{directory:"Inbox",skip:this.skip,limit:this.limit}),this.$router.push({name:"Inbox"}))},async displaySent(){this.activeMenu="Sent","Sent"!==this.$route.name&&(this.$store.dispatch("updateSearch",{}),await Object(p["a"])().getEmails("emails",{directory:"Sent",skip:this.skip,limit:this.limit}),this.$router.push({name:"Sent"}))},async displayTrash(){this.activeMenu="Trash","Trash"!==this.$route.name&&(this.$store.dispatch("updateSearch",{}),await Object(p["a"])().getEmails("emails",{directory:"Trash",skip:this.skip,limit:this.limit}),this.$router.push({name:"Trash"}))},async displayCompose(){this.activeMenu="Compose",this.$router.push({name:"Compose"})},async displayLogout(){await Object(p["a"])().logout(),this.$store.dispatch("updateAuthorization",!1),this.$router.push({name:"Login"})},async handleSearch(){let e=null,t=null,a=null;this.searchInput&&(a=this.searchInput.split(":"),2==a.length?(e=a[0].toString(),t=a[1].toString()):(t=a[0].toString(),e="inbox"),this.$store.dispatch("updateSearch",{directory:e,searchTerm:t}),await Object(p["a"])().getEmails("search",{directory:e,searchTerm:t}),this.$router.push({name:"Search",params:{directory:e,keyword:t}}))}}},m=h,f=(a("868a"),a("2877")),b=a("4d5a"),y=a("e359"),g=a("65c6"),v=a("9c40"),w=a("6ac5"),E=a("2c91"),S=a("05c0"),k=a("27f9"),$=a("0016"),q=a("9404"),x=a("4983"),_=a("1c1c"),j=a("66e5"),C=a("4074"),I=a("eb85"),O=a("09e3"),L=a("9989"),T=a("714f"),P=a("eebe"),Q=a.n(P),z=Object(f["a"])(m,l,u,!1,null,"3209004e",null),M=z.exports;Q()(z,"components",{QLayout:b["a"],QHeader:y["a"],QToolbar:g["a"],QBtn:v["a"],QToolbarTitle:w["a"],QSpace:E["a"],QTooltip:S["a"],QInput:k["a"],QIcon:$["a"],QDrawer:q["a"],QScrollArea:x["a"],QList:_["a"],QItem:j["a"],QItemSection:C["a"],QSeparator:I["a"],QPageContainer:O["a"],QPage:L["a"]}),Q()(z,"directives",{Ripple:T["a"]});var A={name:"App",components:{MainLayout:M}},F=A,B=Object(f["a"])(F,s,c,!1,null,null,null),D=B.exports,H=a("4360"),J=a("8c4f"),N=a("bc3a"),R=a.n(N);const V="/",G=async(e,t,a)=>{try{await R.a.post(`${V}authorize`,{});H["a"].dispatch("updateAuthorization",!0),a()}catch(r){H["a"].dispatch("updateAuthorization",!1),a({name:"Login"})}},K=[{path:"/login",name:"Login",component:()=>Promise.all([a.e(0),a.e(4)]).then(a.bind(null,"013f"))},{path:"/",name:"Inbox",beforeEnter:G,component:()=>Promise.all([a.e(0),a.e(1)]).then(a.bind(null,"ad50"))},{path:"/sent",name:"Sent",beforeEnter:G,component:()=>Promise.all([a.e(0),a.e(1)]).then(a.bind(null,"ad50"))},{path:"/search/:directory/:keyword",name:"Search",beforeEnter:G,component:()=>Promise.all([a.e(0),a.e(1)]).then(a.bind(null,"ad50"))},{path:"/trash",name:"Trash",beforeEnter:G,component:()=>Promise.all([a.e(0),a.e(1)]).then(a.bind(null,"ad50"))},{path:"/email",name:"Email",beforeEnter:G,component:()=>Promise.all([a.e(0),a.e(5)]).then(a.bind(null,"e5ee"))},{path:"/compose",name:"Compose",beforeEnter:G,component:()=>a.e(2).then(a.bind(null,"8f56"))},{path:"/reply",name:"Reply",beforeEnter:G,component:()=>a.e(2).then(a.bind(null,"8f56"))}];var U=K;r["a"].use(J["a"]);var W=function(){const e=new J["a"]({scrollBehavior:()=>({x:0,y:0}),routes:U,mode:"history",base:"/"});return e},X=async function(){const e="function"===typeof H["a"]?await Object(H["a"])({Vue:r["a"]}):H["a"],t="function"===typeof W?await W({Vue:r["a"],store:e}):W;e.$router=t;const a={router:t,store:e,render:e=>e(D),el:"#q-app"};return{app:a,store:e,router:t}};async function Y(){const{app:e,store:t,router:a}=await X();new r["a"](e)}Y()},3299:function(e,t,a){"use strict";a("e6cf");var r=a("bc3a"),n=a.n(r),o=a("4360");const i="/",s=()=>{async function e(e){try{const t=await n.a.post(`${i}login`,{accessCode:e});return t.data}catch(t){return{Error:t.response.data.Error}}}async function t(e,t){try{const a=await n.a.post(`${i}${e}`,t);return t.scroll||o["a"].dispatch("updateEmails",a.data),a.data}catch(a){return{Error:a.response.data.Error}}}async function a(e,t){let a={};try{const r=await n.a.post(`${i}search`,{directory:e,id:t});a=r.data.data[0],a.source=e,o["a"].dispatch("updateSingleEmail",a)}catch(r){return{Error:r.response.data.Error}}}async function r(e){try{return void await n.a.post(`${i}sent`,e)}catch(t){return{Error:t.response.data.Error}}}async function s(e,t){try{await n.a.post(`${i}toTrash`,{directory:e,id:t});let a=o["a"].state.emails.data.filter((e=>e._id!=t));return void o["a"].dispatch("updateEmailList",a)}catch(a){return{Error:a.response.data.Error}}}async function c(){try{return void await n.a.post(`${i}logout`,{})}catch(e){return{Error:e.response.data.Error}}}return{login:e,getEmails:t,getSingleEmail:a,sendEmail:r,toTrash:s,logout:c}};t["a"]=s},4360:function(e,t,a){"use strict";var r=a("2b0e"),n=a("2f62");r["a"].use(n["a"]),t["a"]=new n["a"].Store({modules:{},state:{authorized:!1,emails:{},singleEmail:{},search:{}},mutations:{updateAuthorization(e,t){e.authorized=t},updateEmails(e,t){e.emails=t},updateSingleEmail(e,t){e.singleEmail=t},updateEmailList(e,t){e.emails.data=t},updateSearch(e,t){e.search=t}},actions:{updateAuthorization({commit:e},t){e("updateAuthorization",t)},updateEmails({commit:e},t){e("updateEmails",t)},updateSingleEmail({commit:e},t){e("updateSingleEmail",t)},updateEmailList({commit:e},t){e("updateEmailList",t)},updateSearch({commit:e},t){e("updateSearch",t)}},strict:!1})},"868a":function(e,t,a){"use strict";a("ba84")},ba84:function(e,t,a){}});